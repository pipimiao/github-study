<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <!-- 
    1.this 是什么？
      任何函数本质上都是通过某个对象调用的，如果没有指定就是window
      所有函数内部都有一个变量叫this
      它的值是调用当前函数的当前对象

    2.如何确定this的值？
      test()  window
      p.test()  p
      new test()  新建对象
      test.call(obj)  obj
   -->
  <script>
    function Person(color){
      console.log(this);
      this.color = color;
      this.getColor = function(){
        console.log(this);
        return this.color;
      };

      this.setColor = function(color){
        console.log(this);
        this.color = color;
      }
    }

    Person("red");  //this是谁？

    var p = new Person("yellow");  // this是谁？
    p.getColor();  //this是谁?

    var obj = {};
    p.setColor.call(obj,"black");  //this是谁？

    var test = p.setColor;
    test();  //this是谁？

    function fun1(){

    }
  </script>
</body>
</html>